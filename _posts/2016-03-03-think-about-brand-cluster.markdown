---
layout: post
title:  "商品排序是不是优化点击率"
date:   2016-03-03 23:09:54 +0800
categories: 业务分析
---
不论是推荐系统还是搜索系统，我们的优化逻辑基本是都是使用用户的历史行为去优化点击率，转化率等指标。不过在这里有几个很容易出现的问题：

1. 热门商品
2. 历史行为的时效性

这两个问题造成的情况是在比较强调商业逻辑的场景，比如购物，我们相对更加倾向于对用户推荐比较“老”的商品。这种情况显然不符合商业逻辑，对于商家无法有效的为新品导流（这样某种意义上也刺激了商家选择“捷径”），对于消费者则无法获知优质新商品，对于平台来说则损失更加大。

另外很有意思的是，商业是一个复杂的业务环境，比如上面描述的新品逻辑，并不是唯一的问题，甚至过分强调新品本身就有问题。比如服装行业，就有换季清仓的逻辑，如果这个时候我们去强调新品（不论是业务规则还是算法模型）则又犯了错误。

那么如何解决这种问题呢？在讨论前，我们先看看我们已经有的信息。

#用户行为告诉我们什么#

用户行为分析挖掘是很多公司算法团队的核心的工作，不同的业务也有不同的侧重点。在这里，假设我们就能收集到一种用户行为，对商品的点击。通过用户的行为，我们可以抽取出在当时用户最喜欢的商品，我们可以尝试去挖掘一批相似的商品，然后把这些商品展示给用户是不是就行了呢？

首先，这样的假设是合理的，而且在实际工作中很多场景都是可以用类似的做法去实现。这个思路的唯一难点还是在于实体（或者在我们描述中是商品）之间的similarity。相似度的工作在大量用户和大量商品的情况下（高度稀疏），CF之类的算法不太能解决问题。FM把问题转化为预测用户对于商品的喜好，在一定程度上可以去解决问题。

其次，这样的假设之所以合理有一个很重要的前提条件：用户的点击要去噪和去偏。去燥本身涉及到对于用户其他行为的收集，我们在这里不讨论。那么去偏呢？我们如何去解决展示位置，展示大小对于用户决策（点或不点）的影响呢？这个就涉及到user browsering model之类的工作，特别对于LTR之类的模型，这个是极其重要的。

再次，如何解决非热门商品的问题。因为从整体看，用户看到大量的热门商品，那么以点击率为例，这些热门商品获取的特征在数据量上和准确性上都比非热门商品要多得多，高得多，可以想想beta分布在两个参数下不同的形状就不难理解这一点。

所以即便单纯看用户点击行为，我们可以尝试去做深入和挖掘的点都有很多。

#商家能告诉我们什么#

相对于用户的数据，商家的数据使用的广泛程度还是相对低的。一个原因在于数据质量，用户数据我们通过识别高可信买家是可以获取到真实有价值的数据的，而商家的数据则参杂了大量的噪音和有意为之的SEO之类的信息，比如商品频繁上下架，提价降价等策略；另一个原因在于商家数据的有效价值挖掘存在一定的困难，比如商品的利润，真实库存，渠道分布等；这些业务上的原因造成了对商家数据的普遍不信任。

从技术的角度，还有一个问题也制约着商家数据的使用。我们上文说了，数据产品的业务目标主要是优化点击率，转化率等指标，那么我们在建模的时候往往引入比较多的消费者－商品pair组成的一系列特征，而商业逻辑的特征即便我们加入到模型中，由于目标的问题，我们也无法得到期望的数据。这个是很吊诡的，一方面我们希望引入商业逻辑，另一方面当我们做转化率等问题的时候，通过商业逻辑抽象出的特征是否能够发挥很大的作用，这个暂时还没有得到正面的结果。

当然这并不是说商家的数据不能使用，而是需要很多业务知识去辅助商家特征的抽取。

#核心问题#

现在我们可以尝试去回答本文最核心的问题，单一目标或者多个correlation甚至causation比较高的目标（点击率与转化率）建模思路是我们对于商业逻辑的一种高度简化；随着我们业务的发展，需要从单一任务进化到多任务去解决，比如从整体流量的角度，我们是否可以去平衡商家的利润率和消费者的购买意愿，是否能够去做到新品曝光和爆款转化的平衡。
